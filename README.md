# SearXNG Docker Tavily Adapter

**–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∑–∞–º–µ–Ω–∞ Tavily API –Ω–∞ –±–∞–∑–µ SearXNG** üîç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SearXNG —Å —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º –∂–µ API –∫–∞–∫ —É Tavily - –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –±–µ–∑ API –∫–ª—é—á–µ–π, –ø–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å!

> üéØ **–ì–æ—Ç–æ–≤—ã–π Docker Compose —Å—Ç–µ–∫** —Å SearXNG + Tavily-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º API –∞–¥–∞–ø—Ç–µ—Ä–æ–º

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üê≥ Docker (production-ready)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone git@github.com:vakovalskii/searxng-docker-tavily-adapter.git
# –∏–ª–∏ HTTPS: git clone https://github.com/vakovalskii/searxng-docker-tavily-adapter.git
cd searxng-docker-tavily-adapter

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp config.example.yaml config.yaml
# –ü–æ–º–µ–Ω—è–π—Ç–µ secret_key –≤ config.yaml

# 3. –ó–∞–ø—É—Å–∫
docker compose up -d

# 4. –¢–µ—Å—Ç
curl -X POST "http://localhost:8000/search" \
     -H "Content-Type: application/json" \
     -d '{"query": "—Ü–µ–Ω–∞ bitcoin", "max_results": 3}'
```

### üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (uv)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/vakovalskii/searxng-docker-tavily-adapter.git
cd searxng-docker-tavily-adapter

# 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
./setup-local.sh     # macOS/Linux
# –∏–ª–∏
.\setup-local.ps1    # Windows

# 3. –ó–∞–ø—É—Å–∫ Docker —Å–µ—Ä–≤–∏—Å–æ–≤ (SearXNG + Redis)
make docker-up       # –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

# 4. –ó–∞–ø—É—Å–∫ –∞–¥–∞–ø—Ç–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ
make run             # –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ SearXNG —á–µ—Ä–µ–∑ localhost:8999

# –ò–ª–∏ –ø–æ—ç—Ç–∞–ø–Ω–æ:
# uv sync              # —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
# cp config.local.yaml config.yaml  # –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
# make docker-up       # –∑–∞–ø—É—Å–∫ Docker —Å–µ—Ä–≤–∏—Å–æ–≤
# make run             # –∑–∞–ø—É—Å–∫ –∞–¥–∞–ø—Ç–µ—Ä–∞
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: [LOCAL_DEVELOPMENT.md](LOCAL_DEVELOPMENT.md)

**–í–∞–∂–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.local.yaml` –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è `config.yaml` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è localhost:8999)
- `make docker-up` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ —Ö–æ—Å—Ç–∞
- –ê–¥–∞–ø—Ç–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ SearXNG —á–µ—Ä–µ–∑ `http://localhost:8999`

## ‚òÅÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Azure Container Apps

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π GitHub Actions workflow –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Azure Container Apps —Å sidecars (Redis + SearXNG).

#### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Azure Service Principal** —Å –ø—Ä–∞–≤–∞–º–∏ Contributor –Ω–∞ resource group
2. **GitHub Secrets** –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
   - `AZURE_CREDENTIALS` - JSON —Å –¥–∞–Ω–Ω—ã–º–∏ service principal:
     ```json
     {
       "clientId": "xxx",
       "clientSecret": "xxx",
       "subscriptionId": "xxx",
       "tenantId": "xxx"
     }
     ```
   - `CONFIG_YAML` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `config.azure.yaml` —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - `SEARXNG_SECRET_KEY` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (32+ —Å–∏–º–≤–æ–ª–æ–≤) –¥–ª—è SearXNG, –Ω–∞–ø—Ä–∏–º–µ—Ä: `openssl rand -hex 32`

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω Azure –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```bash
   cp config.azure.yaml config.production.yaml
   ```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.production.yaml`:
   ```yaml
   server:
     secret_key: "–ò–ó–ú–ï–ù–ò–¢–ï_–ù–ê_–°–õ–£–ß–ê–ô–ù–£–Æ_–°–¢–†–û–ö–£_32_–°–ò–ú–í–û–õ–ê"  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
   
   # –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
   # localhost –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è sidecars –≤ Azure Container Apps
   ```

3. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ GitHub Secret:
   ```bash
   # –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: Settings ‚Üí Secrets ‚Üí Actions ‚Üí New repository secret
   # –ò–º—è: CONFIG_YAML
   # –ó–Ω–∞—á–µ–Ω–∏–µ: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ config.production.yaml
   ```

#### –ó–∞–ø—É—Å–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Actions** –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow **Deploy to Azure Container Apps**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow** ‚Üí **Run workflow**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (~5-10 –º–∏–Ω—É—Ç)

#### –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –ü–æ–ª—É—á–∏—Ç–µ URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
az containerapp show \
  -n je-tavily-adapter \
  -g RG-GBLI-AI-Risk-Insights \
  --query properties.configuration.ingress.fqdn -o tsv

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
curl https://<app-url>/health

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
curl -X POST https://<app-url>/search \
  -H 'Content-Type: application/json' \
  -d '{"query":"Azure Cloud","max_results":3}'
```

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Azure

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Azure Container App Instance                ‚îÇ
‚îÇ                                                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Tavily Adapter   ‚îÇ  ‚îÇ  Redis   ‚îÇ  ‚îÇ  SearXNG   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (main container) ‚îÇ  ‚îÇ (sidecar)‚îÇ  ‚îÇ (sidecar)  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Port: 8000       ‚îÇ  ‚îÇ :6379    ‚îÇ  ‚îÇ :8080      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ           ‚ñ≤                                           ‚îÇ
‚îÇ           ‚îÇ –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç localhost        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚îÇ Ingress (HTTPS)
            ‚ñº
     –í–∞—à API –∫–ª–∏–µ–Ω—Ç
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—Å–µ 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º –ø–æ–¥, —Ä–∞–∑–¥–µ–ª—è—è localhost
- –¢–æ–ª—å–∫–æ –ø–æ—Ä—Ç 8000 (Tavily Adapter) –æ—Ç–∫—Ä—ã—Ç –≤–Ω–µ—à–Ω–µ —á–µ—Ä–µ–∑ HTTPS ingress
- Redis –∏ SearXNG –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –ø–æ–¥–∞ —á–µ—Ä–µ–∑ localhost
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: 1-3 —Ä–µ–ø–ª–∏–∫–∏
- –≠—Ñ–µ–º–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–¥–∞–Ω–Ω—ã–µ Redis —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ workflow

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.github/workflows/azure-deploy.yml`:

```yaml
env:
  RESOURCE_GROUP: RG-GBLI-AI-Risk-Insights    # –í–∞—à–∞ resource group
  CONTAINER_APP_NAME: je-tavily-adapter       # –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  CONTAINER_ENV_NAME: je-tavily-env           # –ò–º—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
  LOCATION: westeurope                         # –†–µ–≥–∏–æ–Ω Azure
```

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Drop-in –∑–∞–º–µ–Ω–∞ –¥–ª—è Tavily

```python
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Tavily –∫–ª–∏–µ–Ω—Ç
pip install tavily-python

from tavily import TavilyClient

# –ü—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–π—Ç–µ base_url!
client = TavilyClient(
    api_key="–Ω–µ_–≤–∞–∂–Ω–æ",  # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
    base_url="http://localhost:8000"  # –í–∞—à –∞–¥–∞–ø—Ç–µ—Ä
)

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
response = client.search(
    query="—Ü–µ–Ω–∞ bitcoin",
    max_results=5,
    include_raw_content=True
)
```

### –ü—Ä–æ—Å—Ç–æ–π API

```python
import requests

response = requests.post("http://localhost:8000/search", json={
    "query": "—á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
    "max_results": 5,
    "include_raw_content": True
})

results = response.json()
```

## üì¶ –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

- **SearXNG** (–ø–æ—Ä—Ç 8999) - –º–æ—â–Ω—ã–π –º–µ—Ç–∞-–ø–æ–∏—Å–∫–æ–≤–∏–∫
- **Tavily Adapter** (–ø–æ—Ä—Ç 8000) - HTTP API —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å Tavily
- **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è SearXNG
- **–ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥** - `config.yaml` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| Tavily (–æ—Ä–∏–≥–∏–Ω–∞–ª) | SearXNG Adapter |
|-------------------|-----------------|
| üí∞ –ü–ª–∞—Ç–Ω—ã–π | ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π |
| üîë –ù—É–∂–µ–Ω API –∫–ª—é—á | ‚úÖ –ë–µ–∑ –∫–ª—é—á–µ–π |
| üìä –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ | ‚úÖ –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤ |
| üè¢ –í–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å | ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ |
| ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ | ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –¥–≤–∏–∂–∫–∏ |

## üìã API

### –ó–∞–ø—Ä–æ—Å
```json
{
  "query": "–ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å",
  "max_results": 10,
  "include_raw_content": false
}
```

### –û—Ç–≤–µ—Ç
```json
{
  "query": "–ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å",
  "results": [
    {
      "url": "https://example.com",
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
      "content": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
      "score": 0.9,
      "raw_content": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã..."
    }
  ],
  "response_time": 1.23,
  "request_id": "uuid"
}
```

### Extract API (crawl4ai)

```bash
curl -X POST "http://localhost:8000/extract" \
  -H "Content-Type: application/json" \
  -d '{
        "urls": ["https://www.spacex.com/"],
        "include_images": true,
        "include_favicon": true,
        "extract_depth": "advanced",
        "format": "markdown"
      }'
```

```json
{
  "request_id": "uuid",
  "response_time": 2.31,
  "results": [
    {
      "url": "https://www.spacex.com/",
      "title": "SpaceX",
      "language": "en",
      "raw_content": "# SpaceX ...",
      "images": [
        {"url": "https://...", "description": "Falcon 9", "score": 0.91}
      ],
      "favicon": "https://www.spacex.com/favicon.ico",
      "metadata": {"status_code": 200}
    }
  ],
  "failed_results": []
}
```

> ‚ÑπÔ∏è –≠–Ω–¥–ø–æ–∏–Ω—Ç `/extract` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [crawl4ai](https://github.com/unclecode/crawl4ai).  
> - **Docker**: –æ–±—Ä–∞–∑ `simple_tavily_adapter` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç Chromium —á–µ—Ä–µ–∑ Playwright –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.  
> - **–õ–æ–∫–∞–ª—å–Ω–æ**: –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `pip install -r simple_tavily_adapter/requirements.txt && crawl4ai-setup` (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –±—Ä–∞—É–∑–µ—Ä—ã Playwright).  
> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –ª–µ–∂–∞—Ç –≤ `adapter.extract` –≤–Ω—É—Ç—Ä–∏ `config.yaml`.

## üï∑Ô∏è Raw Content - –≤–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `include_raw_content`

```python
# –ë–µ–∑ raw_content (–±—ã—Å—Ç—Ä–æ)
response = client.search(
    query="–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
    max_results=3
)
# content = –∫—Ä–∞—Ç–∫–∏–π snippet –∏–∑ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞
# raw_content = null

# –° raw_content (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö)  
response = client.search(
    query="–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", 
    max_results=3,
    include_raw_content=True
)
# content = –∫—Ä–∞—Ç–∫–∏–π snippet –∏–∑ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞
# raw_content = –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ 2500 —Å–∏–º–≤–æ–ª–æ–≤)
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

1. **–ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ SearXNG** - –ø–æ–ª—É—á–∞–µ–º URL –∏ snippets
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥** - –∑–∞–≥—Ä—É–∂–∞–µ–º HTML –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. **–û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - —É–¥–∞–ª—è–µ–º script, style, nav, footer
4. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º HTML –≤ —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
5. **–û–±—Ä–µ–∑–∫–∞ –¥–æ 2500 —Å–∏–º–≤–æ–ª–æ–≤** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è LLM

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞

–í `config.yaml`:

```yaml
adapter:
  scraper:
    timeout: 10                    # –¢–∞–π–º–∞—É—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (—Å–µ–∫)
    max_content_length: 2500       # –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä raw_content
    user_agent: "Mozilla/5.0..."   # User-Agent –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –†–µ–∂–∏–º | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö |
|-------|-------------|--------------|
| –ë–µ–∑ raw_content | ~1-2 —Å–µ–∫ | –¢–æ–ª—å–∫–æ snippets |
| –° raw_content | ~3-5 —Å–µ–∫ | –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü |

> üí° **–°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `raw_content=True` –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM, –∏ `False` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [CONFIG_SETUP.md](CONFIG_SETUP.md)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –í–∞—à –∫–æ–¥       ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Tavily Adapter  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ     SearXNG     ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ   (–ø–æ—Ä—Ç 8000)    ‚îÇ    ‚îÇ   (–ø–æ—Ä—Ç 8999)   ‚îÇ
‚îÇ requests.post() ‚îÇ    ‚îÇ                  ‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ                        ‚îÇ
                                ‚ñº                        ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Web Scraping    ‚îÇ    ‚îÇ Google, Bing,   ‚îÇ
                       ‚îÇ  (raw_content)   ‚îÇ    ‚îÇ DuckDuckGo...   ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ uv (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl -LsSf https://astral.sh/uv/install.sh | sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
uv sync

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright –¥–ª—è /extract endpoint
source .venv/bin/activate
crawl4ai-setup

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ SearXNG —á–µ—Ä–µ–∑ Docker
docker compose up -d searxng redis

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ —Å hot-reload
uv run uvicorn simple_tavily_adapter.main:app --reload --port 8000

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
uv run python simple_tavily_adapter/test_client.py
```

üìñ **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: —Å–º. [LOCAL_DEVELOPMENT.md](LOCAL_DEVELOPMENT.md)

### –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± (pip)

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞
cd simple_tavily_adapter
pip install -r requirements.txt
crawl4ai-setup  # –æ–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Playwright –±—Ä–∞—É–∑–µ—Ä—ã
python main.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_client.py
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **[LOCAL_DEVELOPMENT.md](LOCAL_DEVELOPMENT.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å uv
- **[UV_CHEATSHEET.md](UV_CHEATSHEET.md)** - –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º uv
- **[UV_MIGRATION_NOTES.md](UV_MIGRATION_NOTES.md)** - –ó–∞–º–µ—Ç–∫–∏ –æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ uv
- **[NETWORKING_GUIDE.md](NETWORKING_GUIDE.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **[CONFIG_SETUP.md](CONFIG_SETUP.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **[AZURE_DEPLOYMENT.md](AZURE_DEPLOYMENT.md)** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Azure

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **[TESTING_RAW_CONTENT.md](TESTING_RAW_CONTENT.md)** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ! üéâ
