# SearXNG Docker Tavily Adapter

**Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ°Ñ Ğ·Ğ°Ğ¼ĞµĞ½Ğ° Tavily API Ğ½Ğ° Ğ±Ğ°Ğ·Ğµ SearXNG** ğŸ”

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ SearXNG Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ‚Ğ°ĞºĞ¸Ğ¼ Ğ¶Ğµ API ĞºĞ°Ğº Ñƒ Tavily - Ğ±ĞµĞ· Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹, Ğ±ĞµĞ· API ĞºĞ»ÑÑ‡ĞµĞ¹, Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ!

> ğŸ¯ **Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ Docker Compose ÑÑ‚ĞµĞº** Ñ SearXNG + Tavily-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ñ‹Ğ¼ API Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ğ¾Ğ¼

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

```bash
# 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
git clone git@github.com:vakovalskii/searxng-docker-tavily-adapter.git
# Ğ¸Ğ»Ğ¸ HTTPS: git clone https://github.com/vakovalskii/searxng-docker-tavily-adapter.git
cd searxng-docker-tavily-adapter

# 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
cp config.example.yaml config.yaml
# ĞŸĞ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ secret_key Ğ² config.yaml

# 3. Ğ—Ğ°Ğ¿ÑƒÑĞº
docker compose up -d

# 4. Ğ¢ĞµÑÑ‚
curl -X POST "http://localhost:8000/search" \
     -H "Content-Type: application/json" \
     -d '{"query": "Ñ†ĞµĞ½Ğ° bitcoin", "max_results": 3}'
```

## â˜ï¸ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Azure Container Apps

### ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· GitHub Actions

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ GitHub Actions workflow Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² Azure Container Apps Ñ sidecars (Redis + SearXNG).

#### ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

1. **Azure Service Principal** Ñ Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸ Contributor Ğ½Ğ° resource group
2. **GitHub Secrets** Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸:
   - `AZURE_CREDENTIALS` - JSON Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ service principal:
     ```json
     {
       "clientId": "xxx",
       "clientSecret": "xxx",
       "subscriptionId": "xxx",
       "tenantId": "xxx"
     }
     ```
   - `CONFIG_YAML` - ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ° `config.azure.yaml` Ñ Ğ²Ğ°ÑˆĞ¸Ğ¼Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ğ¼Ğ¸
   - `SEARXNG_SECRET_KEY` - ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ° (32+ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²) Ğ´Ğ»Ñ SearXNG, Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: `openssl rand -hex 32`

#### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

1. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ Azure ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸:
   ```bash
   cp config.azure.yaml config.production.yaml
   ```

2. ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ `config.production.yaml`:
   ```yaml
   server:
     secret_key: "Ğ˜Ğ—ĞœĞ•ĞĞ˜Ğ¢Ğ•_ĞĞ_Ğ¡Ğ›Ğ£Ğ§ĞĞ™ĞĞ£Ğ®_Ğ¡Ğ¢Ğ ĞĞšĞ£_32_Ğ¡Ğ˜ĞœĞ’ĞĞ›Ğ"  # ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾!
   
   # ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº ĞµÑÑ‚ÑŒ
   # localhost Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ sidecars Ğ² Azure Container Apps
   ```

3. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ğ² GitHub Secret:
   ```bash
   # Ğ’ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ… Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ: Settings â†’ Secrets â†’ Actions â†’ New repository secret
   # Ğ˜Ğ¼Ñ: CONFIG_YAML
   # Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ config.production.yaml
   ```

#### Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

1. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² Ñ€Ğ°Ğ·Ğ´ĞµĞ» **Actions** Ğ²Ğ°ÑˆĞµĞ³Ğ¾ GitHub Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
2. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ workflow **Deploy to Azure Container Apps**
3. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ **Run workflow** â†’ **Run workflow**
4. Ğ”Ğ¾Ğ¶Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ (~5-10 Ğ¼Ğ¸Ğ½ÑƒÑ‚)

#### ĞŸĞ¾ÑĞ»Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

```bash
# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ URL Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
az containerapp show \
  -n je-tavily-adapter \
  -g RG-GBLI-AI-Risk-Insights \
  --query properties.configuration.ingress.fqdn -o tsv

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚ÑŒ
curl https://<app-url>/health

# Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
curl -X POST https://<app-url>/search \
  -H 'Content-Type: application/json' \
  -d '{"query":"Azure Cloud","max_results":3}'
```

#### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Azure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Azure Container App Instance                â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Tavily Adapter   â”‚  â”‚  Redis   â”‚  â”‚  SearXNG   â”‚  â”‚
â”‚  â”‚ (main container) â”‚  â”‚ (sidecar)â”‚  â”‚ (sidecar)  â”‚  â”‚
â”‚  â”‚ Port: 8000       â”‚  â”‚ :6379    â”‚  â”‚ :8080      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â–²                                           â”‚
â”‚           â”‚ Ğ’ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑÑÑ‚ localhost        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Ingress (HTTPS)
            â–¼
     Ğ’Ğ°Ñˆ API ĞºĞ»Ğ¸ĞµĞ½Ñ‚
```

**ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:**
- Ğ’ÑĞµ 3 ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ğ´, Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑÑ localhost
- Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾Ñ€Ñ‚ 8000 (Tavily Adapter) Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ Ğ²Ğ½ĞµÑˆĞ½Ğµ Ñ‡ĞµÑ€ĞµĞ· HTTPS ingress
- Redis Ğ¸ SearXNG Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿Ğ¾Ğ´Ğ° Ñ‡ĞµÑ€ĞµĞ· localhost
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: 1-3 Ñ€ĞµĞ¿Ğ»Ğ¸ĞºĞ¸
- Ğ­Ñ„ĞµĞ¼ĞµÑ€Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ (Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Redis Ñ‚ĞµÑ€ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ñ€ĞµÑÑ‚Ğ°Ñ€Ñ‚Ğµ)

#### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° workflow

Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ, Ğ¾Ñ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ `.github/workflows/azure-deploy.yml`:

```yaml
env:
  RESOURCE_GROUP: RG-GBLI-AI-Risk-Insights    # Ğ’Ğ°ÑˆĞ° resource group
  CONTAINER_APP_NAME: je-tavily-adapter       # Ğ˜Ğ¼Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
  CONTAINER_ENV_NAME: je-tavily-env           # Ğ˜Ğ¼Ñ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
  LOCATION: westeurope                         # Ğ ĞµĞ³Ğ¸Ğ¾Ğ½ Azure
```

## ğŸ’¡ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Drop-in Ğ·Ğ°Ğ¼ĞµĞ½Ğ° Ğ´Ğ»Ñ Tavily

```python
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Tavily ĞºĞ»Ğ¸ĞµĞ½Ñ‚
pip install tavily-python

from tavily import TavilyClient

# ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ base_url!
client = TavilyClient(
    api_key="Ğ½Ğµ_Ğ²Ğ°Ğ¶Ğ½Ğ¾",  # Ğ˜Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ
    base_url="http://localhost:8000"  # Ğ’Ğ°Ñˆ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€
)

# Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ°Ğº Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾
response = client.search(
    query="Ñ†ĞµĞ½Ğ° bitcoin",
    max_results=5,
    include_raw_content=True
)
```

### ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ API

```python
import requests

response = requests.post("http://localhost:8000/search", json={
    "query": "Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ",
    "max_results": 5,
    "include_raw_content": True
})

results = response.json()
```

## ğŸ“¦ Ğ§Ñ‚Ğ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸

- **SearXNG** (Ğ¿Ğ¾Ñ€Ñ‚ 8999) - Ğ¼Ğ¾Ñ‰Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ°-Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ¸Ğº
- **Tavily Adapter** (Ğ¿Ğ¾Ñ€Ñ‚ 8000) - HTTP API ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ñ‹Ğ¹ Ñ Tavily
- **Redis** - ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ»Ñ SearXNG
- **Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³** - `config.yaml` Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

## ğŸ¯ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°

| Tavily (Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ») | SearXNG Adapter |
|-------------------|-----------------|
| ğŸ’° ĞŸĞ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ | âœ… Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ |
| ğŸ”‘ ĞÑƒĞ¶ĞµĞ½ API ĞºĞ»ÑÑ‡ | âœ… Ğ‘ĞµĞ· ĞºĞ»ÑÑ‡ĞµĞ¹ |
| ğŸ“Š Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² | âœ… Ğ‘ĞµĞ· Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ¾Ğ² |
| ğŸ¢ Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ | âœ… Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ |
| â“ ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ | âœ… ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€ÑƒĞµÑ‚Ğµ Ğ´Ğ²Ğ¸Ğ¶ĞºĞ¸ |

## ğŸ“‹ API

### Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ
```json
{
  "query": "Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ",
  "max_results": 10,
  "include_raw_content": false
}
```

### ĞÑ‚Ğ²ĞµÑ‚
```json
{
  "query": "Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ",
  "results": [
    {
      "url": "https://example.com",
      "title": "Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº",
      "content": "ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ...",
      "score": 0.9,
      "raw_content": "ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹..."
    }
  ],
  "response_time": 1.23,
  "request_id": "uuid"
}
```

### Extract API (crawl4ai)

```bash
curl -X POST "http://localhost:8000/extract" \
  -H "Content-Type: application/json" \
  -d '{
        "urls": ["https://www.spacex.com/"],
        "include_images": true,
        "include_favicon": true,
        "extract_depth": "advanced",
        "format": "markdown"
      }'
```

```json
{
  "request_id": "uuid",
  "response_time": 2.31,
  "results": [
    {
      "url": "https://www.spacex.com/",
      "title": "SpaceX",
      "language": "en",
      "raw_content": "# SpaceX ...",
      "images": [
        {"url": "https://...", "description": "Falcon 9", "score": 0.91}
      ],
      "favicon": "https://www.spacex.com/favicon.ico",
      "metadata": {"status_code": 200}
    }
  ],
  "failed_results": []
}
```

> â„¹ï¸ Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ `/extract` Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ [crawl4ai](https://github.com/unclecode/crawl4ai).  
> - **Docker**: Ğ¾Ğ±Ñ€Ğ°Ğ· `simple_tavily_adapter` Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Chromium Ñ‡ĞµÑ€ĞµĞ· Playwright Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ÑĞ±Ğ¾Ñ€ĞºĞ¸.  
> - **Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾**: Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ `pip install -r simple_tavily_adapter/requirements.txt && crawl4ai-setup` (ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ñ‹ Playwright).  
> ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ¾Ğ² Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚Ğ¾Ğ² Ğ»ĞµĞ¶Ğ°Ñ‚ Ğ² `adapter.extract` Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ `config.yaml`.

## ğŸ•·ï¸ Raw Content - Ğ²ĞµĞ±-ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³

### ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ `include_raw_content`

```python
# Ğ‘ĞµĞ· raw_content (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
response = client.search(
    query="Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ",
    max_results=3
)
# content = ĞºÑ€Ğ°Ñ‚ĞºĞ¸Ğ¹ snippet Ğ¸Ğ· Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ¸ĞºĞ°
# raw_content = null

# Ğ¡ raw_content (Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½ĞµĞµ, Ğ½Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)  
response = client.search(
    query="Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ", 
    max_results=3,
    include_raw_content=True
)
# content = ĞºÑ€Ğ°Ñ‚ĞºĞ¸Ğ¹ snippet Ğ¸Ğ· Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ¸ĞºĞ°
# raw_content = Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ (Ğ´Ğ¾ 2500 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)
```

### Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾Ğ´ ĞºĞ°Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼

1. **ĞŸĞ¾Ğ¸ÑĞº Ñ‡ĞµÑ€ĞµĞ· SearXNG** - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ URL Ğ¸ snippets
2. **ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³** - Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ HTML ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
3. **ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°** - ÑƒĞ´Ğ°Ğ»ÑĞµĞ¼ script, style, nav, footer
4. **Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ğ°** - ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ HTML Ğ² Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚
5. **ĞĞ±Ñ€ĞµĞ·ĞºĞ° Ğ´Ğ¾ 2500 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²** - Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ´Ğ»Ñ LLM

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ÑĞºÑ€Ğ°Ğ¿Ğ¸Ğ½Ğ³Ğ°

Ğ’ `config.yaml`:

```yaml
adapter:
  scraper:
    timeout: 10                    # Ğ¢Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚ Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ (ÑĞµĞº)
    max_content_length: 2500       # ĞœĞ°ĞºÑ. Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ raw_content
    user_agent: "Mozilla/5.0..."   # User-Agent Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
```

### ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

| Ğ ĞµĞ¶Ğ¸Ğ¼ | Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° | ĞĞ±ÑŠĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… |
|-------|-------------|--------------|
| Ğ‘ĞµĞ· raw_content | ~1-2 ÑĞµĞº | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ snippets |
| Ğ¡ raw_content | ~3-5 ÑĞµĞº | ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ† |

> ğŸ’¡ **Ğ¡Ğ¾Ğ²ĞµÑ‚**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `raw_content=True` ĞºĞ¾Ğ³Ğ´Ğ° Ğ½ÑƒĞ¶ĞµĞ½ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ LLM, Ğ¸ `False` Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°.

## âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°

ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ: [CONFIG_SETUP.md](CONFIG_SETUP.md)

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ğ’Ğ°Ñˆ ĞºĞ¾Ğ´       â”‚â”€â”€â”€â–¶â”‚  Tavily Adapter  â”‚â”€â”€â”€â–¶â”‚     SearXNG     â”‚
â”‚                 â”‚    â”‚   (Ğ¿Ğ¾Ñ€Ñ‚ 8000)    â”‚    â”‚   (Ğ¿Ğ¾Ñ€Ñ‚ 8999)   â”‚
â”‚ requests.post() â”‚    â”‚                  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                        â”‚
                                â–¼                        â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  Web Scraping    â”‚    â”‚ Google, Bing,   â”‚
                       â”‚  (raw_content)   â”‚    â”‚ DuckDuckGo...   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

```bash
# Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ğ°
cd simple_tavily_adapter
pip install -r requirements.txt
crawl4ai-setup  # Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ· ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Playwright Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ñ‹
python main.py

# Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
python test_client.py
```

## ğŸ“œ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ°Ğº Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ! ğŸ‰
